package com.xworkz.cosmetics.service;

import java.util.regex.Pattern;
import java.util.regex.PatternSyntaxException;

import com.xworkz.cosmetics.dao.CosmeticDAO;
import com.xworkz.cosmetics.dao.CosmeticDAOImpl;
import com.xworkz.cosmetics.entity.CosmeticEntity;

public class CosmeticServiceImpl implements CosmeticService {

	private CosmeticDAO dao = new CosmeticDAOImpl();

	@Override
	public boolean validateAndSave(CosmeticEntity entity) {
		try {
			boolean valid = true;

			if (entity.getName() != null && entity.getName().length() > 3 && entity.getName().length() < 25) {

				if (valid)dao.save(entity);

				String regex = "^(.+)@(.+)$";
				Pattern pattern = Pattern.compile(regex);
				if (entity.getEmail() != null && pattern.matcher(regex).matches()) {
					if (valid)dao.save(entity);
				}
			} 
			else {
				System.err.println("invalid email");
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
		return false;
	}

}