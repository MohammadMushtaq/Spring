package com.xworkz.passport.service;

import com.xworkz.passport.constants.PassportPersonnelType;
import com.xworkz.passport.entity.PassportEntity;
import com.xworkz.passport.reposistry.PassportDAO;

public class PassportServiceImp implements PassportService{

	PassportDAO PassportDAO;
	
	@Override
	public boolean validateAndSave(PassportEntity entity) {
	boolean valid=false;
		
		try {
			if(entity.getIssuedBy()!=null && entity.getIssuedBy().length()>3 && entity.getIssuedBy().length()<135) {
				valid=true;
			}else {
				System.err.println("invalid name ");
				System.err.println("chararcter >3&<135");
				return valid;
			}
			if(entity.getIssuedAt()!=null ) {
				valid=true;
			}else {
				System.err.println("invalid date ");
				return valid;
			}
			if(entity.getExpiresAt()!=null && entity.getExpiresAt().isAfter(entity.getIssuedAt().plusYears(10))) {
				valid=true;
			}else {
				System.err.println("expired");
				return valid;
			}
			if(entity.getPassportNo()!=0 && String.valueOf(entity.getPassportNo()).length()==8) {
				//entity.setPassportPersonnelType(PassportPersonnelType.REGULAR)).entity.getIssuedAt()
			
				valid= true;
			}else {
				System.err.println("passport is invalid");
				return valid;
			}
			
			
			
			} catch (Exception e) {
			e.printStackTrace();
		}
		
		
		return false;
		}

	}
